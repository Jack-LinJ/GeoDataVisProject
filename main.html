<div class="box">
    <div class="border_item">
    </div>
  </div>
  
<div style="display: inline-flex;width:100%;height:100%">
    <div id="world" style="height: 100%;width: 80%;"></div>
    <div style="height: 99%;margin: auto;width: 20%;background-color: blue;">
        <div class="flag">
            <img id="flag" src="flags/cn.png" alt="" style="width: 80%;height: auto;">
        </div>
        <div id="countryName" style="height: 30px;font-size: 25px;margin: 10px;text-align: center;"></div>
        <div class="profile">
            <div class="profile-left">
                <img id="avatar" src="avatar/us.jpg" alt="" style="height:160px;width:120px">
            </div>
            <div class="profile-right">
                <div id="twitter" class="profile-content"></div>
                <div id="name" class="profile-content"></div>
                <div id="position" class="profile-content"></div>
            </div>
        </div>
        <div class="information">

        </div>
    </div>
</div>
<link rel="stylesheet" href="style.css">
<script src="echarts/echart.js"></script>
<script type="text/javascript" src="echarts/world.js"></script>

<script>
    var myChart = echarts.init(document.getElementById('world'));
    myChart.on('click', function (params) {
        console.log('点击', params)
        // console.log(option.geo.regions[0].itemStyle.areaColor, option.geo.zoom, option.geo.center)
        let id = country2id[params.name];
        console.log(id)
        setOption(id)
    })

    var resetOption = function(){
        let tmp = option.geo.regions;
        for(let i in tmp){
            tmp[i].itemStyle.areaColor = '#0d0059'
        }
        option.geo.regions = tmp;
    }

    var setOption = function(id){
        resetOption()
        option.geo.regions[id].itemStyle.areaColor = 'green';

        let country = countryData[id]
        document.getElementById('countryName').innerHTML = country.countryName
        document.getElementById('twitter').innerHTML = country.twitter
        document.getElementById('name').innerHTML = country.name
        document.getElementById('position').innerHTML = country.position
        document.getElementById('flag').src = country.flagUrl
        // document.getElementById('avatar').src = country.avatarUrl


        for(let i in country.follow){
            option.geo.regions[country.follow[i]].itemStyle.areaColor = 'red';
        }
        for(let i in country.follower){
            option.geo.regions[country.follower[i]].itemStyle.areaColor = 'black';
        }
        for(let i in country.mutualFollower){
            option.geo.regions[country.mutualFollower[i]].itemStyle.areaColor = 'pink';
        }
        myChart.setOption(option)
    }
    // 测试数据部分
    // 国家信息列表
    var countryData = [
        {
            id:0,
            countryName:'中国',
            flagUrl:'flags/cn.png',
            twitter:'@linji',
            name:'林霁',
            position:'首相',
            avatarUrl:'',
            follow:[2],
            follower:[3],
            mutualFollower:[4]
        },
        {
            id:1,
            countryName:'美国',
            flagUrl:'flags/us.png',
            twitter:'@xxx',
            name:'登子',
            position:'总统',
            avatarUrl:'',
            follow:[0],
            follower:[2],
            mutualFollower:[4]
        },        {
            id:2,
            countryName:'日本',
            flagUrl:'flags/jp.png',
            twitter:'@jp',
            name:'林霁',
            position:'首相',
            avatarUrl:'',
            follow:[0],
            follower:[1],
            mutualFollower:[4]
        },        {
            id:3,
            countryName:'俄罗斯',
            flagUrl:'flags/ru.png',
            twitter:'@Russia',
            name:'林霁',
            position:'首相',
            avatarUrl:'',
            follow:[2],
            follower:[0],
            mutualFollower:[4]
        },        {
            id:4,
            countryName:'英国',
            flagUrl:'flags/gb.png',
            twitter:'@eng',
            name:'林霁',
            position:'首相',
            avatarUrl:'',
            follow:[2],
            follower:[3],
            mutualFollower:[0]
        },
    ]
    // 国家id映射
    var country2id = {
        中国:0,
        美国:1,
        日本:2,
        俄罗斯:3,
        英国:4
    }
    var dataValue = dealWithData();
    let nameMap = {
        Afghanistan: '阿富汗',
        Singapore: '新加坡',
        Angola: '安哥拉',
        Albania: '阿尔巴尼亚',
        'United Arab Emirates': '阿联酋',
        Argentina: '阿根廷',
        Armenia: '亚美尼亚',
        'French Southern and Antarctic Lands':
            '法属南半球和南极领地',
        Australia: '澳大利亚',
        Austria: '奥地利',
        Azerbaijan: '阿塞拜疆',
        Burundi: '布隆迪',
        Belgium: '比利时',
        Benin: '贝宁',
        'Burkina Faso': '布基纳法索',
        Bangladesh: '孟加拉国',
        Bulgaria: '保加利亚',
        'The Bahamas': '巴哈马',
        'Bosnia and Herzegovina': '波斯尼亚和黑塞哥维那',
        Belarus: '白俄罗斯',
        Belize: '伯利兹',
        Bermuda: '百慕大',
        Bolivia: '玻利维亚',
        Brazil: '巴西',
        Brunei: '文莱',
        Bhutan: '不丹',
        Botswana: '博茨瓦纳',
        'Central African Republic': '中非共和国',
        Canada: '加拿大',
        Switzerland: '瑞士',
        Chile: '智利',
        China: '中国',
        'Ivory Coast': '象牙海岸',
        Cameroon: '喀麦隆',
        'Democratic Republic of the Congo': '刚果民主共和国',
        'Republic of the Congo': '刚果共和国',
        Colombia: '哥伦比亚',
        'Costa Rica': '哥斯达黎加',
        Cuba: '古巴',
        'Northern Cyprus': '北塞浦路斯',
        Cyprus: '塞浦路斯',
        'Czech Republic': '捷克共和国',
        Germany: '德国',
        Djibouti: '吉布提',
        Denmark: '丹麦',
        'Dominican Republic': '多明尼加共和国',
        Algeria: '阿尔及利亚',
        Ecuador: '厄瓜多尔',
        Egypt: '埃及',
        Eritrea: '厄立特里亚',
        Spain: '西班牙',
        Estonia: '爱沙尼亚',
        Ethiopia: '埃塞俄比亚',
        Finland: '芬兰',
        Fiji: '斐',
        'Falkland Islands': '福克兰群岛',
        France: '法国',
        Gabon: '加蓬',
        'United Kingdom': '英国',
        Georgia: '格鲁吉亚',
        Ghana: '加纳',
        Guinea: '几内亚',
        Gambia: '冈比亚',
        'Guinea Bissau': '几内亚比绍',
        Greece: '希腊',
        Greenland: '格陵兰',
        Guatemala: '危地马拉',
        'French Guiana': '法属圭亚那',
        Guyana: '圭亚那',
        Honduras: '洪都拉斯',
        Croatia: '克罗地亚',
        Haiti: '海地',
        Hungary: '匈牙利',
        Indonesia: '印度尼西亚',
        India: '印度',
        Ireland: '爱尔兰',
        Iran: '伊朗',
        Iraq: '伊拉克',
        Iceland: '冰岛',
        Israel: '以色列',
        Italy: '意大利',
        Jamaica: '牙买加',
        Jordan: '约旦',
        Japan: '日本',
        Kazakhstan: '哈萨克斯坦',
        Kenya: '肯尼亚',
        Kyrgyzstan: '吉尔吉斯斯坦',
        Cambodia: '柬埔寨',
        Kosovo: '科索沃',
        Kuwait: '科威特',
        Laos: '老挝',
        Lebanon: '黎巴嫩',
        Liberia: '利比里亚',
        Libya: '利比亚',
        'Sri Lanka': '斯里兰卡',
        Lesotho: '莱索托',
        Lithuania: '立陶宛',
        Luxembourg: '卢森堡',
        Latvia: '拉脱维亚',
        Morocco: '摩洛哥',
        Moldova: '摩尔多瓦',
        Madagascar: '马达加斯加',
        Mexico: '墨西哥',
        Macedonia: '马其顿',
        Mali: '马里',
        Myanmar: '缅甸',
        Montenegro: '黑山',
        Mongolia: '蒙古',
        Mozambique: '莫桑比克',
        Mauritania: '毛里塔尼亚',
        Malawi: '马拉维',
        Malaysia: '马来西亚',
        Namibia: '纳米比亚',
        'New Caledonia': '新喀里多尼亚',
        Niger: '尼日尔',
        Nigeria: '尼日利亚',
        Nicaragua: '尼加拉瓜',
        Netherlands: '荷兰',
        Norway: '挪威',
        Nepal: '尼泊尔',
        'New Zealand': '新西兰',
        Oman: '阿曼',
        Pakistan: '巴基斯坦',
        Panama: '巴拿马',
        Peru: '秘鲁',
        Philippines: '菲律宾',
        'Papua New Guinea': '巴布亚新几内亚',
        Poland: '波兰',
        'Puerto Rico': '波多黎各',
        'North Korea': '北朝鲜',
        Portugal: '葡萄牙',
        Paraguay: '巴拉圭',
        Qatar: '卡塔尔',
        Romania: '罗马尼亚',
        Russia: '俄罗斯',
        Rwanda: '卢旺达',
        'Western Sahara': '西撒哈拉',
        'Saudi Arabia': '沙特阿拉伯',
        Sudan: '苏丹',
        'South Sudan': '南苏丹',
        Senegal: '塞内加尔',
        'Solomon Islands': '所罗门群岛',
        'Sierra Leone': '塞拉利昂',
        'El Salvador': '萨尔瓦多',
        Somaliland: '索马里兰',
        Somalia: '索马里',
        'Republic of Serbia': '塞尔维亚',
        Suriname: '苏里南',
        Slovakia: '斯洛伐克',
        Slovenia: '斯洛文尼亚',
        Sweden: '瑞典',
        Swaziland: '斯威士兰',
        Syria: '叙利亚',
        Chad: '乍得',
        Togo: '多哥',
        Thailand: '泰国',
        Tajikistan: '塔吉克斯坦',
        Turkmenistan: '土库曼斯坦',
        'East Timor': '东帝汶',
        'Trinidad and Tobago': '特里尼达和多巴哥',
        Tunisia: '突尼斯',
        Turkey: '土耳其',
        'United Republic of Tanzania': '坦桑尼亚',
        Uganda: '乌干达',
        Ukraine: '乌克兰',
        Uruguay: '乌拉圭',
        'United States': '美国',
        Uzbekistan: '乌兹别克斯坦',
        Venezuela: '委内瑞拉',
        Vietnam: '越南',
        Vanuatu: '瓦努阿图',
        'West Bank': '西岸',
        Yemen: '也门',
        'South Africa': '南非',
        Zambia: '赞比亚',
        Korea: '韩国',
        Tanzania: '坦桑尼亚',
        Zimbabwe: '津巴布韦',
        Congo: '刚果',
        'Central African Rep.': '中非',
        Serbia: '塞尔维亚',
        'Bosnia and Herz.': '波黑',
        'Czech Rep.': '捷克',
        'W. Sahara': '西撒哈拉',
        'Lao PDR': '老挝',
        'Dem.Rep.Korea': '朝鲜',
        'Falkland Is.': '福克兰群岛',
        'Timor-Leste': '东帝汶',
        'Solomon Is.': '所罗门群岛',
        Palestine: '巴勒斯坦',
        'N. Cyprus': '北塞浦路斯',
        Aland: '奥兰群岛',
        'Fr. S. Antarctic Lands': '法属南半球和南极陆地',
        Mauritius: '毛里求斯',
        Comoros: '科摩罗',
        'Eq. Guinea': '赤道几内亚',
        'Guinea-Bissau': '几内亚比绍',
        'Dominican Rep.': '多米尼加',
        'Saint Lucia': '圣卢西亚',
        Dominica: '多米尼克',
        'Antigua and Barb.': '安提瓜和巴布达',
        'U.S. Virgin Is.': '美国原始岛屿',
        Montserrat: '蒙塞拉特',
        Grenada: '格林纳达',
        Barbados: '巴巴多斯',
        Samoa: '萨摩亚',
        Bahamas: '巴哈马',
        'Cayman Is.': '开曼群岛',
        'Faeroe Is.': '法罗群岛',
        'IsIe of Man': '马恩岛',
        Malta: '马耳他共和国',
        Jersey: '泽西',
        'Cape Verde': '佛得角共和国',
        'Turks and Caicos Is.': '特克斯和凯科斯群岛',
        'St. Vin. and Gren.': '圣文森特和格林纳丁斯'
    }
    option = {
        // 图表主标题
        title: {
            text: '推特外交大赏', // 主标题文本，支持使用 \n 换行
            //top: 20, // 定位 值: 'top', 'middle', 'bottom' 也可以是具体的值或者百分比
            left: 'center', // 值: 'left', 'center', 'right' 同上
            textStyle: { // 文本样式
                fontSize: 18,
                fontWeight: 600,
                color: 'black'
            }
        },
        tooltip: {
            show:true,
            trigger: 'item',
            formatter: function (params) {
                console.log(1)
                if (params.name) {
                    return params.name + ' : ' + (isNaN(params.value) ? 0 : parseInt(params.value));
                }
            }
        },
        // 视觉映射组件
        visualMap: {

            type: 'continuous', // continuous 类型为连续型  piecewise 类型为分段型
            show: true, // 是否显示 visualMap-continuous 组件 如果设置为 false，不会显示，但是数据映射的功能还存在
            // 指定 visualMapContinuous 组件的允许的最小/大值。'min'/'max' 必须用户指定。
            // [visualMap.min, visualMax.max] 形成了视觉映射的『定义域』

            // 文本样式
            textStyle: {
                fontSize: 14,
                color: '#fff'
            },
            realtime: false, // 拖拽时，是否实时更新
            calculable: true, // 是否显示拖拽用的手柄
            // 定义 在选中范围中 的视觉元素
            inRange: {
                color: ['#9fb5ea', '#e6ac53', '#74e2ca', '#85daef', '#9feaa5', '#5475f5'], // 图元的颜色
                show:false
            }
        },

        geo: {

            map: "world",
            roam: true,// 一定要关闭拖拽
            // zoom: 1.23,  
            //   center: [105, 36], // 调整地图位置
            label: {
                normal: {
                    show: false, //关闭省份名展示
                    fontSize: "10",
                    color: "rgba(0,0,0,0.7)"
                },
                emphasis: {
                    show: false
                }
            },
            regions: [
                {
                    name: '中国',
                    itemStyle: {
                        color: 'red',
                        // areaColor: 'red'
                    }
                },
                {
                    name:'美国',
                    itemStyle:{
                        // areaColor:'red'
                    }
                },
                {
                    name:'日本',
                    itemStyle:{
                        // areaColor:'red'
                    }
                },
                {
                    name:'俄罗斯',
                    itemStyle:{
                        // areaColor:'red'
                    }
                },
                {
                    name:'英国',
                    itemStyle:{
                        // areaColor:'red'
                    }
                }
            ],
            // tooltip: {
            //     trigger: 'item',
            //     formatter: function (params) {
            //         console.log(params)
            //         if (params.name) {
            //             return params.name + ' : ' + (isNaN(params.value) ? 0 : parseInt(params.value));
            //         }
            //     }
            // },
            itemStyle: {
                normal: {
                    areaColor: "#0d0059",
                    borderColor: "#389dff",
                    // borderWidth: 1, //设置外层边框
                    shadowBlur: 5,
                    // shadowOffsetY: 8,
                    shadowOffsetX: 0,
                    shadowColor: "#01012a"
                },
                emphasis: {
                    areaColor: "#184cff",
                    shadowOffsetX: 0,
                    shadowOffsetY: 0,
                    shadowBlur: 5,
                    borderWidth: 0,
                    shadowColor: "rgba(0, 0, 0, 0.5)"
                }
            }
        },
        series: [
            // {
            //     type: "map",
            //     map: "world",
            //     roam: false,
            //     zoom: 1.23,
            //     // center: [105, 36],
            //     // geoIndex: 1,
            //     // aspectScale: 0.75, //长宽比
            //     showLegendSymbol: false, // 存在legend时显示
            //     label: {
            //         normal: {
            //             show: false
            //         },
            //         emphasis: {
            //             show: false,
            //             textStyle: {
            //                 color: "#fff"
            //             }
            //         }
            //     },
            //     // tooltip: {
            //     //     trigger: 'item',
            //     //     formatter: function (params) {
            //     //         console.log(params)
            //     //         if (params.name) {
            //     //             return params.name + ' : ' + (isNaN(params.value) ? 0 : parseInt(params.value));
            //     //         }
            //     //     }
            //     // },
            //     tooltip: {
            //         formatter(value) {
            //             console.log(1)
            //             return value.data.name + "<br/>" + "物流量：" + "22";
            //         },
            //         show: true
            //     },
            //     itemStyle: {
            //         normal: {
            //             areaColor: "#0d0059",
            //             borderColor: "#389dff",
            //             borderWidth: 0.5
            //         },
            //         emphasis: {
            //             areaColor: "#17008d",
            //             shadowOffsetX: 0,
            //             shadowOffsetY: 0,
            //             shadowBlur: 5,
            //             borderWidth: 0,
            //             shadowColor: "rgba(0, 0, 0, 0.5)"
            //         }
            //     }
            // },
            // {
            //     name: 'World Population (2010)',
            //     type: 'map',
            //     mapType: 'world',
            //     roam: true,
            //     itemStyle: {
            //         areaColor: '#7B68EE', // 地图区域的颜色 如果设置了visualMap，areaColor属性将不起作用
            //         borderWidth: 0.5, // 描边线宽 为 0 时无描边
            //         borderColor: '#000', // 图形的描边颜色 支持的颜色格式同 color，不支持回调函数
            //         borderType: 'solid', // 描边类型，默认为实线，支持 'solid', 'dashed', 'dotted'
            //         emphasis: { label: { show: true } }
            //     },
            //     label: {
            //         show: false // 是否显示对应地名
            //     },
            //     data: [
            //         { name: '萨摩亚', value: 28397 },
            //         { name: '乌克兰', value: 19549.124 },
            //         { name: '越南', value: 3150.143 },
            //         { name: '新西兰', value: 8441.537 },
            //         { name: '墨西哥', value: 40374.224 },
            //         { name: '美国', value: 2963.496,seleted:true },
            //         { name: '巴拿马', value: 268.065 },
            //         { name: '澳大利亚', value: 22404.488 },

            //     ],
            //     nameMap: nameMap
            // },
            // {
            //     name: "",
            //     type: "scatter",
            //     coordinateSystem: "geo",
            //     data: dataValue,
            //     //   symbolSize: function(val) {
            //     //     return val[2] / 10;
            //     //   },
            //     symbol: "circle",
            //     symbolSize: 8,
            //     hoverSymbolSize: 10,
            //     // tooltip: {
            //     //     formatter(value) {
            //     //         return value.data.name + "<br/>" + "物流量：" + "22";
            //     //     },
            //     //     show: true
            //     // },
            //     encode: {
            //         value: 2
            //     },
            //     label: {
            //         formatter: "{b}",
            //         position: "right",
            //         show: false
            //     },
            //     itemStyle: {
            //         color: "#0efacc"
            //     },
            //     emphasis: {
            //         label: {
            //             show: false
            //         }
            //     }
            // },
        ]
    };
    myChart.setOption(option);
    function dealWithData() {
        var geoCoordMap = {
            美国: [121.15, 31.89],
            阿富汗: [109.781327, 39.608266],
            新加坡: [120.38, 37.35],
            中国: [122.207216, 29.985295],
            古巴: [123.97, 47.33],
        };
        var data = [];
        for (var key in geoCoordMap) {
            data.push({ name: key, value: geoCoordMap[key] });
        }
        return data;
    }

</script>